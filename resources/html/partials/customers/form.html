<!-- Display general validation errors -->
@if(customersValidationErrors.Count > 0) {
<div class="row mb-3">
    <div class="col-12">
        <div class="alert alert-danger">
            <h6><i class="bi bi-exclamation-triangle-fill me-2"></i>Please correct the following errors:</h6>
            <ul class="mb-0">
                @forEach(var error in customersValidationErrors) {
                <li>@error.Message</li>
                }
            </ul>
        </div>
    </div>
</div>
}

<div class="row">
    @forEach(var field in customers.fields) {
        @if(field.visible) {
        <div class="col-md-6 mb-3">
            <label for="@field.fieldName" class="form-label">
                @field.displayLabel
                @if(field.required) {
                <span class="text-danger">*</span>
                }
            </label>
            <input 
            type="text" 
            class="form-control" 
            id="@field.fieldName" 
            name="@field.fieldName"
            value="@field.Value"
            @if(field.required) { required }
            maxlength="@field.size">
        </div>	
        } @else {
            <input type="hidden" name="@field.fieldName" value="@field.Value">
        }
    }
</div> 

<div class="row mb-3">
    <div class="col-12">
        <div class="alert alert-info">
            <h6><i class="bi bi-info-circle-fill me-2"></i>Aditional info</h6>
            <p>
                This form is created dynamically from the FireDAC query, using the <code>customers.fields</code> metadata.
            </p>
            <p>
                If changes in the FireDAC query are made, the form will be updated automatically.
            </p>
        </div>
    </div>
</div>